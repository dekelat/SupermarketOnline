<div class="cart-header">
    <button *ngIf="!cartService.isInCheckoutMode" class="close-cart-btn"
        (click)="onCloseCart()">
        X</button>

    <button *ngIf="cartService.isInCheckoutMode" 
        (click)="onBackToShop()">
        Back To Shop</button>

    <h2>My Cart</h2>

    <button *ngIf="!cartService.isInCheckoutMode" class="empty-cart-btn"
        (click)="onDeleteAllItems()">
        Empty Cart</button>
</div>

<div class="cart-content">
    <table>
        <tbody>
            <tr *ngFor="let product of cartService.cart.products | keyvalue">
                <td><img src="{{product.value.imageUrl}}"/></td>
                <td>{{product.value.name}}</td>
                <td>{{product.value.quantity}}x</td>
                <td>₪{{product.value.price}}</td>
                <td class="align-top">
                    <button *ngIf="!cartService.isInCheckoutMode" 
                        (click)="onDeleteItemFromCart(product.value)">X</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="cart-footer">
    <h3>Total: <span>₪{{cartService.total}}</span></h3>
    <button *ngIf="!cartService.isInCheckoutMode" (click)="onCheckout()">Checkout</button>
</div>